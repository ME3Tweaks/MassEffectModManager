<Window
    x:Class="ME3TweaksModManager.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:adonisExtensions="clr-namespace:AdonisUI.Extensions;assembly=AdonisUI"
    xmlns:adonisUi="clr-namespace:AdonisUI;assembly=AdonisUI"
    xmlns:fa5="http://schemas.fontawesome.com/icons/"
    xmlns:packages="clr-namespace:LegendaryExplorerCore.Packages;assembly=LegendaryExplorerCore"
    xmlns:loaders="clr-namespace:ME3TweaksModManager.modmanager.loaders"
    xmlns:modmanager="clr-namespace:ME3TweaksModManager.modmanager"
    xmlns:local="clr-namespace:ME3TweaksModManager"
    xmlns:ui="clr-namespace:ME3TweaksModManager.ui"
    xmlns:usercontrols="clr-namespace:ME3TweaksModManager.modmanager.usercontrols"
    xmlns:objects="clr-namespace:ME3TweaksModManager.modmanager.objects"
    xmlns:mod="clr-namespace:ME3TweaksModManager.modmanager.objects.mod"
    xmlns:controls="clr-namespace:AdonisUI.Controls;assembly=AdonisUI"
    mc:Ignorable="d"
    Closing="ModManagerWindow_Closing"
    ContentRendered="ModManager_ContentRendered"
    AllowDrop="True"
    Icon="appicon.ico"
    Drop="Window_Drop"
    DragOver="Window_DragOver"
    Title="ME3Tweaks Mod Manager"
    Height="730"
    Width="950"
    MinHeight="650"
    MinWidth="950"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    Name="MainWindow_Ref">
    <Window.Style>
        <Style
            TargetType="Window"
            BasedOn="{StaticResource {x:Type Window}}" />
    </Window.Style>
    <Window.InputBindings>
        <KeyBinding
            Key="F"
            Modifiers="Control"
            Command="{Binding SearchModsCommand}" />
    </Window.InputBindings>
    <Window.Resources>
        <Storyboard
            x:Key="OpenLoadingSpinner"
            Storyboard.TargetProperty="(FrameworkElement.Width)">
            <DoubleAnimation
                To="32"
                Duration="0:0:0.25" />
        </Storyboard>
        <Storyboard
            x:Key="CloseLoadingSpinner">
            <DoubleAnimation
                To="0"
                Duration="0:0:0.25"
                Storyboard.TargetProperty="(FrameworkElement.Width)" />
        </Storyboard>
        <x:Array
            x:Key="ModUtilsMenuArray"
            Type="MenuItem"
            x:Shared="False">
            <MenuItem
                Header="{Binding SelectedMod.ModName}"
                Style="{StaticResource MenuItemHeaderStyle}" />
            <MenuItem
                Header="{DynamicResource string_Checkforupdates}"
                Command="{Binding SelectedModCheckForUpdatesCommand}"
                ToolTip="{DynamicResource string_tooltip_checksForUpdatesToThisMod}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_Cloud"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Visibility="{Binding SelectedMod.IsME3TweaksUpdatable, Converter={StaticResource BoolToVisibilityConverter}}"
                Header="{DynamicResource string_RestoremodfromME3Tweaks}"
                Command="{Binding RestoreModFromME3TweaksCommand}"
                ToolTip="{DynamicResource string_tooltip_forcesUpdateCheck}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_CloudDownloadAlt"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_listFilesThisModCanInstall}"
                Click="ListAllInstallableFiles_Click"
                ToolTip="{DynamicResource string_tooltip_listFilesThisModCanInstall}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_Search"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <!--<Separator/>-->
            <MenuItem
                Header="{DynamicResource string_Openmodfolder}"
                Click="OpenModFolder_Click"
                ToolTip="{Binding SelectedMod.ModPath}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_FolderOpen"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_Deletemodfromlibrary}"
                Command="{Binding DeleteModFromLibraryCommand}"
                ToolTip="{DynamicResource string_tooltip_removesThisModFromYourLibrary}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_WindowClose"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_editModInfo}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                ToolTip="{DynamicResource string_tooltip_moddescEditor}"
                Header="{DynamicResource string_Moddesceditor}"
                Command="{Binding ModdescEditorCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_Wrench"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_openModdesciniFile}"
                ToolTip="{DynamicResource string_tooltip_openModdescIniFile}"
                Command="{Binding OpenModDescCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_PencilAlt"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_developerFeatures}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_addStarterKitContent}"
                ToolTip="{DynamicResource string_tooltip_addStarterKitContent}"
                Command="{Binding AddStarterKitContentCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_Plus"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_listOptionKeys}"
                Command="{Binding ShowAlternateOptionKeysCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}"
                ToolTip="{DynamicResource string_tooltip_listOptionKeys}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_AddressCard"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_packageModForRelease}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_Deploymodto7zfilefordistribution}"
                ToolTip="{DynamicResource string_tooltip_deployTo7z}"
                Command="{Binding DeployModCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_FileArchive"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_mE3TweaksUpdaterService}"
                Style="{StaticResource MenuItemHeaderStyle}"
                ui:SharedUIBindings.DevModeGenerationOT="True" />
            <MenuItem
                Header="{DynamicResource string_Prepareforupdaterservice}"
                Command="{Binding UpdaterServiceCommand}"
                ToolTip="{DynamicResource string_tooltip_uploadToUpdaterService}"
                ui:SharedUIBindings.DevModeGenerationOT="True">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_CloudUploadAlt"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_editUpdaterServiceSettings}"
                Command="{Binding UpdaterServiceSettingsCommand}"
                ToolTip="{DynamicResource string_tooltip_updaterServiceSettings}"
                ui:SharedUIBindings.DevModeGenerationOT="True" />
            <MenuItem
                Header="{DynamicResource string_thirdPartyIdentificationService}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_SubmitmodinformationtoME3Tweaks}"
                Command="{Binding SubmitTelemetryForModCommand}"
                ToolTip="{DynamicResource string_tooltip_submitTPMI}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_Info"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_debugging}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_CreateTestingArchive}"
                ToolTip="{DynamicResource string_CreateTestingArchiveTooltip}"
                Command="{Binding CreateTestArchiveCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa5:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Solid_Bug"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
        </x:Array>
    </Window.Resources>
    <xctk:BusyIndicator
        IsBusy="{Binding IsBusy}"
        BusyContent="{Binding BusyContentM3}">
        <DockPanel
            Name="RootDisplayObject">
            <Menu
                DockPanel.Dock="Top">
                <Menu.ItemsPanel>
                    <ItemsPanelTemplate>
                        <DockPanel
                            HorizontalAlignment="Stretch" />
                    </ItemsPanelTemplate>
                </Menu.ItemsPanel>
                <MenuItem
                    Header="{DynamicResource string_Actions}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_OpenME3Tweaks}"
                        IsEnabled="True"
                        Click="OpenME3Tweaks_Click"
                        ToolTip="{DynamicResource string_OpensME3Tweaks}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Globe"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_OpenMemoryAnalyzer}"
                        IsEnabled="True"
                        Click="OpenMemoryAnalyzer_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Memory"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_configureSettingsForModManager}"
                        Command="{Binding ModManagerOptionsCommand}"
                        Header="{DynamicResource string_Options}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_List"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Language}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Language"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                        <!--<MenuItem.Icon>
                            <Image
                                Source="/modmanager/localizations/icons/languageselector.png"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>-->
                        <!--<MenuItem Name="LanguageCZE_MenuItem" Header="Polski" Click="ChangeLanguage_Clicked" StaysOpenOnClick="True" Visibility="Collapsed">
                                <MenuItem.Icon>
                                    <Image Source="/modmanager/localizations/icons/czech.png" />
                                </MenuItem.Icon>
                            </MenuItem>-->
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='deu'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='deu'}"
                            Name="LanguageDEU_MenuItem"
                            Header="Deutsch"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/german.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='int'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='int'}"
                            Name="LanguageINT_MenuItem"
                            Header="English"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/english.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='kor'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='kor'}"
                            Name="LanguageKOR_MenuItem"
                            Header="한국어"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/korean.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='ita'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='ita'}"
                            Name="LanguageITA_MenuItem"
                            Header="Italiano"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/italian.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <!--
                            <MenuItem Name="LanguageESN_MenuItem" Header="Español" Click="ChangeLanguage_Clicked" StaysOpenOnClick="True" Visibility="Collapsed">
                                <MenuItem.Icon>
                                    <Image Source="/modmanager/localizations/icons/spanish.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                            -->
                        <!--<MenuItem
                                Name="LanguageFRA_MenuItem"
                                Header="Français"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/french.png" />
                                </MenuItem.Icon>
                            </MenuItem>-->
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='pol'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='pol'}"
                            Name="LanguagePOL_MenuItem"
                            Header="Polski"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/polish.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='bra'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='bra'}"
                            Name="LanguageBRA_MenuItem"
                            Header="Português"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/portuguese.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Visibility="{Binding Converter={StaticResource LanguageSupportedVisibilityConverter}, ConverterParameter='rus'}"
                            IsChecked="{Binding Path=(modmanager:Settings.Language), Converter={StaticResource StringMatchToBoolConverter}, ConverterParameter='rus'}"
                            Name="LanguageRUS_MenuItem"
                            Header="Pусский"
                            Click="ChangeLanguage_Clicked"
                            StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/russian.png" />
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <Separator />
                    <MenuItem
                        Header="{DynamicResource string_Checkforcontentupdates}"
                        Command="{Binding CheckForContentUpdatesCommand}"
                        ToolTip="{DynamicResource string_ChecksME3Tweaksforupdatestovariousservices}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Cloud"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Reloadsmodsfromthemodlibrary}"
                        Command="{Binding ReloadModsCommand}"
                        ToolTip="{DynamicResource string_tooltip_reloadModsFromLibrary}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_SyncAlt"
                                Spin="{Binding IsLoadingMods, Source={x:Static loaders:M3LoadedMods.Instance}}"
                                SpinDuration="1"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Exit}"
                        Click="ExitApplication_Click" />
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_ModManagement}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_importAndManageMods}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_ImportMod}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Regular_File"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem
                            Header="{DynamicResource string_HeaderDragDropFaster}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Header="{DynamicResource string_ImportmodfromArchive}"
                            Command="{Binding ImportArchiveCommand}"
                            ToolTip="{DynamicResource string_ImportModFromArchiveTooltip}" />
                        <MenuItem
                            Header="{DynamicResource string_ImportalreadyinstalledCustomDLCmod}"
                            Command="{Binding ImportDLCModFromGameCommand}"
                            ToolTip="{DynamicResource string_tooltip_importAnAlreadyinstalledDLCMod}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="True"
                            Header="{DynamicResource string_DownloadModMakermod}"
                            Command="{Binding DownloadModMakerModCommand}"
                            ToolTip="{DynamicResource string_tooltip_downloadME3TweaksMod}" />
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_seeWhatsInstalled}"
                        Command="{Binding ShowinstallationInformationCommand}"
                        ToolTip="{DynamicResource string_tooltip_targetInfo}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Eye"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_CreateaME3modonModMaker}"
                        Click="OpenME3TweaksModMaker_Click"
                        ToolTip="{DynamicResource string_tooltip_createME3TweaksModMakerMod}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Edit"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_ASIModManager}"
                        Command="{Binding OpenASIManagerCommand}"
                        ToolTip="{DynamicResource string_ASIManagerTooltip}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_CodeBranch"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="true"
                        Header="{DynamicResource string_MixInLibrary}"
                        Command="{Binding MixinLibraryCommand}"
                        ToolTip="{DynamicResource string_tooltip_mixinLibrary}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Book"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_BatchModInstaller}"
                        Command="{Binding BatchModInstallerCommand}"
                        ToolTip="{DynamicResource string_tooltip_batchModInstaller}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Cubes"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_libraryManagement}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_checkModsForUpdates}"
                        Command="{Binding CheckAllModsForUpdatesCommand}"
                        ToolTip="{DynamicResource string_tooltip_checksForUpdatesToModsThatSupportCheckingForUpdates}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Retweet"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_checkForUpdatesNonWhitelisted}"
                        Command="{Binding CheckNonWhitelistedModsForUpdates}"
                        ToolTip="{DynamicResource string_tooltip_checkForUpdatesNonWhitelisted}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Ambulance"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_showWhichModsCanCheckForUpdates}"
                        ToolTip="{DynamicResource string_tooltip_showWhichModsCanCheckForUpdates}"
                        IsCheckable="True"
                        IsChecked="{Binding Path=(modmanager:Settings.SessionOnly_ShowWhichModsCanCheckForUpdates), Mode=TwoWay}"
                        StaysOpenOnClick="True">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Icon="Solid_CloudMeatball"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Openmodslibrarydirectory}"
                        Click="OpenModsDirectory_Click"
                        ToolTip="{DynamicResource string_Opensthemodlibraryfolder}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_FolderOpen"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_searchModLibrary}"
                        ToolTip="{DynamicResource string_tooltip_searchModLibrary}"
                        InputGestureText="CTRL + F"
                        Command="{Binding SearchModsCommand}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_SearchLocation"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_installStandaloneFiles}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        ui:SharedUIBindings.GenerationLE="True" />
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_installMemFiles}"
                        Header="{DynamicResource string_installMemFile}"
                        Command="{Binding InstallMEMFileCommand}"
                        ui:SharedUIBindings.GenerationLE="True">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_FileImage"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_installHeadmorphMenu}"
                        Header="{DynamicResource string_installHeadmorph}"
                        Command="{Binding InstallHeadmorphCommand}"
                        ui:SharedUIBindings.GenerationLE="True">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_User"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_developerTools}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_conflictDetector}"
                        Header="{DynamicResource string_CustomDLCConflictDetector}"
                        Command="{Binding ConflictDetectorCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_ExclamationTriangle"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.DevModeGenerationOT="True"
                        Header="{DynamicResource string_officialDLCToggler}"
                        Command="{Binding OfficialDLCTogglerCommand}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_ToggleOn"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_ModUtils}"
                    Padding="4"
                    IsEnabled="{Binding SelectedMod,  Converter={StaticResource NullEnabledConverter}}"
                    ItemsSource="{StaticResource ModUtilsMenuArray}" />
                <MenuItem
                    Header="{DynamicResource string_Tools}"
                    Padding="4">
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_officialConfigurationTool}"
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_Runofficialgameconfigurationtool}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Cogs"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect}"
                            Command="{Binding RunGameConfigToolCommand}"
                            CommandParameter="ME1">
                            <MenuItem.Icon>
                                <Image
                                    Source="{ui:MippedIcon Source={StaticResource me1gameiconpath}, Size=16}"
                                    Width="16"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect2}"
                            Command="{Binding RunGameConfigToolCommand}"
                            CommandParameter="ME2">
                            <MenuItem.Icon>
                                <Image
                                    Source="{ui:MippedIcon Source={StaticResource me2gameiconpath}, Size=16}"
                                    Width="16"
                                    HorizontalAlignment="Center"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect3}"
                            Command="{Binding RunGameConfigToolCommand}"
                            CommandParameter="ME3">
                            <MenuItem.Icon>
                                <Image
                                    Source="{ui:MippedIcon Source={StaticResource me3gameiconpath}, Size=16}"
                                    Width="16"
                                    HorizontalAlignment="Center"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_starterKit}"
                        Header="{DynamicResource string_GenerateStarterKit}"
                        ItemsSource="{Binding MenuAvailableGames}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_PlayCircle"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem.Resources>
                            <!-- This is some stupid BS WPF does with icon sharing. x:Shared must be set -->
                            <Image
                                x:Key="IconResource"
                                x:Shared="False"
                                Source="{Binding Converter={StaticResource GameToImageIconConverter}, ConverterParameter='16'}"
                                Width="16"
                                Height="16" />
                        </MenuItem.Resources>
                        <MenuItem.ItemContainerStyle>
                            <Style
                                TargetType="MenuItem"
                                BasedOn="{StaticResource {x:Type MenuItem}}">
                                <Setter
                                    Property="Header"
                                    Value="{Binding Converter={StaticResource MEGameToGameNameConverter}}" />
                                <Setter
                                    Property="Icon"
                                    Value="{StaticResource IconResource}" />
                                <Setter
                                    Property="Visibility"
                                    Value="Visible" />
                                <Setter
                                    Property="Command"
                                    Value="{Binding ElementName=MainWindow_Ref, Path=GenerateStarterKitCommand}" />
                                <Setter
                                    Property="CommandParameter"
                                    Value="{Binding}" />
                            </Style>
                        </MenuItem.ItemContainerStyle>
                    </MenuItem>
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_binkBypass}"
                        Header="{DynamicResource string_Binkw32Bypasses}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Link"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="true"
                            Header="{DynamicResource string_MassEffect}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="true"
                            Command="{Binding Binkw32Command}"
                            CommandParameter="ME1"
                            Header="{Binding ME1ASILoaderText}"
                            IsChecked="{Binding ME1ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_me1ASILoader}"
                            StaysOpenOnClick="True" />
                        <Separator />
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="true"
                            Header="{DynamicResource string_MassEffect2}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="true"
                            Command="{Binding Binkw32Command}"
                            CommandParameter="ME2"
                            Header="{Binding ME2ASILoaderText}"
                            IsChecked="{Binding ME2ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_me23ASILoader}"
                            StaysOpenOnClick="True" />
                        <Separator />
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="true"
                            Header="{DynamicResource string_MassEffect3}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="true"
                            Command="{Binding Binkw32Command}"
                            CommandParameter="ME3"
                            Header="{Binding ME3ASILoaderText}"
                            IsChecked="{Binding ME3ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_me23ASILoader}"
                            StaysOpenOnClick="True" />
                        <!-- Legendary Edition -->
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="true"
                            Header="{DynamicResource string_MassEffectLE}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="true"
                            Command="{Binding Binkw32Command}"
                            CommandParameter="LE1"
                            Header="{Binding LE1ASILoaderText}"
                            IsChecked="{Binding LE1ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_leASILoader}"
                            StaysOpenOnClick="True" />
                        <Separator />
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="true"
                            Header="{DynamicResource string_MassEffect2LE}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="true"
                            Command="{Binding Binkw32Command}"
                            CommandParameter="LE2"
                            Header="{Binding LE2ASILoaderText}"
                            IsChecked="{Binding LE2ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_leASILoader}"
                            StaysOpenOnClick="True" />
                        <Separator />
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="true"
                            Header="{DynamicResource string_MassEffect3LE}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="true"
                            Command="{Binding Binkw32Command}"
                            CommandParameter="LE3"
                            Header="{Binding LE3ASILoaderText}"
                            IsChecked="{Binding LE3ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_leASILoader}"
                            StaysOpenOnClick="True" />
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_autoTOC}"
                        ItemsSource="{Binding MenuAvailableGames}"
                        ToolTip="{DynamicResource string_tooltip_autoTOC}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Indent"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem.Resources>
                            <!-- This is some stupid BS WPF does with icon sharing. x:Shared must be set -->
                            <Image
                                x:Key="IconResource"
                                x:Shared="False"
                                Source="{Binding Converter={StaticResource GameToImageIconConverter}, ConverterParameter='16'}"
                                Width="16"
                                Height="16" />
                        </MenuItem.Resources>
                        <MenuItem.ItemContainerStyle>
                            <Style
                                TargetType="MenuItem"
                                BasedOn="{StaticResource {x:Type MenuItem}}">
                                <Setter
                                    Property="Header"
                                    Value="{Binding Converter={StaticResource MEGameToGameNameConverter}}" />
                                <Setter
                                    Property="Icon"
                                    Value="{StaticResource IconResource}" />
                                <Setter
                                    Property="Visibility"
                                    Value="{Binding RelativeSource={RelativeSource Self}, Path=IsEnabled, Converter={StaticResource BoolToVisibilityConverter}}" />
                                <Setter
                                    Property="Command"
                                    Value="{Binding ElementName=MainWindow_Ref, Path=AutoTOCCommand}" />
                                <Setter
                                    Property="CommandParameter"
                                    Value="{Binding}" />
                            </Style>
                        </MenuItem.ItemContainerStyle>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_targetMerge}"
                        ToolTip="{DynamicResource string_tooltip_targetMerge}"
                        ItemsSource="{Binding MenuAvailableGames}">
                        <MenuItem.Resources>
                            <!-- This is some stupid BS WPF does with icon sharing. x:Shared must be set -->
                            <Image
                                x:Key="IconResource"
                                x:Shared="False"
                                Source="{Binding Converter={StaticResource GameToImageIconConverter}, ConverterParameter='16'}"
                                Width="16"
                                Height="16" />
                        </MenuItem.Resources>
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_HandsHelping"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem.ItemContainerStyle>
                            <Style
                                TargetType="MenuItem"
                                BasedOn="{StaticResource {x:Type MenuItem}}">
                                <Setter
                                    Property="Header"
                                    Value="{Binding Converter={StaticResource MEGameToGameNameConverter}}" />
                                <Setter
                                    Property="Icon"
                                    Value="{StaticResource IconResource}" />
                                <Setter
                                    Property="Visibility"
                                    Value="{Binding RelativeSource={RelativeSource Self}, Path=IsEnabled, Converter={StaticResource BoolToVisibilityConverter}}" />
                                <Setter
                                    Property="Command"
                                    Value="{Binding ElementName=MainWindow_Ref, Path=RunTargetMergeCommand}" />
                                <Setter
                                    Property="CommandParameter"
                                    Value="{Binding}" />
                            </Style>
                        </MenuItem.ItemContainerStyle>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_dragAndDropOperations}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_MousePointer"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <!-- LE1 LE2 -->
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="True"
                            Header="{DynamicResource string_decompileCoalescedFileLE1LE2}"
                            ToolTip="{DynamicResource string_tooltip_decompileCoalGameLE1LE2}"
                            Command="{Binding DecompileCoalescedCommand}"
                            CommandParameter="{StaticResource FalseValue}">
                            <MenuItem.Icon>
                                <fa5:ImageAwesome
                                    Style="{StaticResource EnableDisableImageStyle}"
                                    Icon="Solid_BoxOpen"
                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                    Height="16"
                                    Width="16" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="True"
                            Header="{DynamicResource string_compileCoalescedFileLE1LE2}"
                            ToolTip="{DynamicResource string_tooltip_compileCoalGameLE1LE2}"
                            Command="{Binding CompileCoalescedCommand}"
                            CommandParameter="{StaticResource FalseValue}">
                            <MenuItem.Icon>
                                <fa5:ImageAwesome
                                    Style="{StaticResource EnableDisableImageStyle}"
                                    Icon="Solid_Box"
                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                    Height="16"
                                    Width="16" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <!-- GAME 3 -->
                        <MenuItem
                            Header="{DynamicResource string_decompileCoalescedFileGame3}"
                            ToolTip="{DynamicResource string_tooltip_decompileCoalGame3}"
                            Command="{Binding DecompileCoalescedCommand}"
                            CommandParameter="{StaticResource TrueValue}">
                            <MenuItem.Icon>
                                <fa5:ImageAwesome
                                    Style="{StaticResource EnableDisableImageStyle}"
                                    Icon="Solid_BoxOpen"
                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                    Height="16"
                                    Width="16" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_compileCoalescedFileGame3}"
                            ToolTip="{DynamicResource string_tooltip_compileCoalGame3}"
                            Command="{Binding CompileCoalescedCommand}"
                            CommandParameter="{StaticResource TrueValue}">
                            <MenuItem.Icon>
                                <fa5:ImageAwesome
                                    Style="{StaticResource EnableDisableImageStyle}"
                                    Icon="Solid_Box"
                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                    Height="16"
                                    Width="16" />
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Grantwriteaccesstogamedirectories}"
                        Command="{Binding GrantWriteAccessCommand}"
                        ToolTip="{DynamicResource string_Grantswritepermissionstogamedirectories}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Regular_Hdd"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_consoleCommandKeybinder}"
                        Command="{Binding ConsoleKeyKeybinderCommand}"
                        ToolTip="{DynamicResource string_tooltip_consoleCommandKeybinder}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Terminal"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_customKeybindsInjectorMenuItem}"
                        Command="{Binding CustomKeybindsInjectorCommand}"
                        ToolTip="{DynamicResource string_tooltip_installsCustomKeybindsOfYourDesignIntoTheGame}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Regular_Keyboard"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_originIngameOverlayDisabler}"
                        Command="{Binding OriginInGameOverlayDisablerCommand}"
                        ToolTip="{DynamicResource string_tooltip_oigDisabler}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Ban"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Additionalmoddingtools}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_ALOTInstaller}"
                        Name="ALOTInstaller_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_ALOTInstallerTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/alot_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_configurationToolsForSpecificMods}">
                        <MenuItem
                            ui:SharedUIBindings.GenerationOT="True"
                            Header="{DynamicResource string_egmSettings}"
                            ToolTip="{DynamicResource string_tooltip_egmSettings}"
                            Command="{Binding LaunchEGMSettingsCommand}">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/toolicons/egmsettings_32.png"
                                    Width="16"
                                    RenderOptions.BitmapScalingMode="Linear" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            ui:SharedUIBindings.GenerationLE="True"
                            Header="{DynamicResource string_eGMSettingsLegendaryEdition}"
                            ToolTip="{DynamicResource string_tooltip_egmSettings}"
                            Command="{Binding LaunchEGMSettingsLECommand}">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/toolicons/egmsettings_32.png"
                                    Width="16"
                                    RenderOptions.BitmapScalingMode="Linear" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_femShepVsBroShepCloneConfigurationUtility}"
                            ToolTip="{DynamicResource string_tooltip_descriptionFemShepVsBroShepTool}"
                            Command="{Binding LaunchFVBCCUCommand}">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/toolicons/fvbccu.png"
                                    Width="16"
                                    RenderOptions.BitmapScalingMode="Linear" />
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_LegendaryExplorerStable}"
                        Name="LegendaryExplorerStable_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_ME3ExplorerME3TweaksForkTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="{ui:MippedIcon Source={StaticResource lexIcon}, Size=16}"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_LegendaryExplorerBeta}"
                        Name="LegendaryExplorerBeta_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_ME3ExplorerME3TweaksForkBetaTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="{ui:MippedIcon Source={StaticResource lexIcon}, Size=16}"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_MassEffectINIModder}"
                        Command="{Binding LaunchIniModderCommand}"
                        ToolTip="{DynamicResource string_MEIMTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectinimodder_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_MassEffectModder}"
                        Name="MassEffectModder_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_Texturebrowserandinstaller}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectmodder_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationLE="True"
                        Header="{DynamicResource string_massEffectModderForLegendaryEdition}"
                        Name="MassEffectModderLE_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_Texturebrowserandinstaller}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectmodder_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_MassEffectRandomizer}"
                        Name="MassEffectRandomizer_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_RandomizerforthefirstMassEffectgame}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectrandomizer_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ui:SharedUIBindings.GenerationOT="True"
                        Header="{DynamicResource string_me2r}"
                        Name="MassEffect2Randomizer_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_tooltip_me2r}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectrandomizer_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_trilogySaveEditor}"
                        Name="TrilogySaveEditor_MenuItem"
                        Command="{Binding TrilogySaveEditorCommand}"
                        ToolTip="{DynamicResource string_tooltip_trilogySaveEditor}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/tse.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_developerTools}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
                    <MenuItem
                        Header="{DynamicResource string_backupFileFetcher}"
                        Command="{Binding BackupFileFetcherCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}"
                        ToolTip="{DynamicResource string_tooltip_backupFileFetcher}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Download"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_nexusFileSearch}"
                        Command="{Binding NexusModsFileSearchCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}"
                        ToolTip="{DynamicResource string_tooltip_nexusFileSearch}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Search"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_BackupRestore}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_Backup}"
                        Command="{Binding BackupCommand}"
                        ToolTip="{DynamicResource string_Createentiregamebackups}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Database"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Restore}"
                        Command="{Binding RestoreCommand}"
                        ToolTip="{DynamicResource string_Restoreagamefrombackup}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Undo"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_beta}"
                    Visibility="{Binding Path=(modmanager:Settings.BetaMode), Converter={StaticResource BoolToVisibilityConverter}}"
                    Padding="4">
                    <!--<MenuItem
                        Header="{DynamicResource string_blankItemToAvoidBreakingTheInterface}" />-->
                    <MenuItem
                        Header="{DynamicResource string_showModInstallationStatusInLbrary}"
                        ToolTip="{DynamicResource string_tooltip_notReliableForAllMods}"
                        IsCheckable="True"
                        StaysOpenOnClick="True"
                        IsChecked="{Binding Path=(modmanager:Settings.ShowInstalledModsInLibrary)}" />
                    <MenuItem
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}"
                        Header="{DynamicResource string_suppressTargetMerges}"
                        ToolTip="{DynamicResource string_tooltip_suppressTargetMerges}"
                        IsCheckable="True"
                        StaysOpenOnClick="True"
                        IsChecked="{Binding Path=(modmanager:Settings.SessionOnly_SuppressDLCMerge)}" />
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_debug}"
                    Visibility="{x:Static local:App.DebugOnlyVisibility}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_requiresSelectedMod}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_reloadSelectedMod}"
                        Click="RouteDebugCall"
                        Name="ReloadSelectedMod_MenuItem" />
                    <MenuItem
                        Header="{DynamicResource string_runDetermineIfInstalled}"
                        Click="RouteDebugCall"
                        Name="DebugDetermineIfInstalled_MenuItem" />
                    <MenuItem
                        Header="{DynamicResource string_debugPrintAllReferencedFiles}"
                        Name="DebugPrintReferencedFiles_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_debugPrintInstallationQueue}"
                        Name="DebugPrintInstallationQueue_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_requiresSelectedTarget}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_testSquadmateMerge}"
                        Name="DebugSquadmateMerge_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_testEmailMerge}"
                        Name="DebugEmailMerge_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_stampCurrentTargetWithALOTMarker}"
                        Name="StampCurrentTargetWithALOTMarker_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_stripCurrentTargetALOTMarker}"
                        Name="StripCurrentTargetWithALOTMarker_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_mMV1DEBUG}"
                        Name="TestMMV1_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_buildMD5DB}"
                        Name="RebuildMD5DB_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_updateMD5DB}"
                        Name="UpdateMD5DB_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_requiresNothing}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_showWelcomePanel}"
                        Name="ShowWelcomePanel_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_autobootLE2Test}"
                        Name="AutobootLE2_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_showBackupNag}"
                        Name="ShowBackupNag_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_mEMVanillaDBViewer}"
                        Name="ShowMEMDB_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_showBasegameFileIdentificationServiceViewer}"
                        Name="ShowBGFISDB_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_testCode}"
                        Name="TestCode_MenuItem"
                        Click="RouteDebugCall" />
                    <MenuItem
                        Header="{DynamicResource string_test7z}"
                        Name="Test7z_MenuItem"
                        Click="RouteDebugCall" />
                </MenuItem>
                <MenuItem
                    Name="HelpMenuItem"
                    Header="{DynamicResource string_Help}"
                    Padding="4">
                    <MenuItem
                        Name="DynamicHelp_MenuItem"
                        Header="{DynamicResource string_DynamicHelp}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_Diagnostics}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_ModManagerLogsDiagnostics}"
                        Click="UploadLog_Click"
                        ToolTip="{DynamicResource string_TroubleshootingtoolsforME3Tweaks}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Stethoscope"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_diagnosticTool_OpenAllPackages}"
                        Header="{DynamicResource string_diagnosticTool_OpenAllPackages}"
                        Command="{Binding DiagToolOpenAllPackagesCommand}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_BookOpen"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_About}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        ToolTip="{DynamicResource string_tooltip_introTutorial}"
                        Header="{DynamicResource string_debug_showIntroTutorial}"
                        Command="{Binding OpenTutorialCommand}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Regular_Map"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_restoreOnetimeTutorialMessages}"
                        Click="RestoreOneTimeMessages"
                        ToolTip="{DynamicResource string_tooltip_restoreOnetimeTutorialMessages}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Comment"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{Binding EndorseM3String}"
                        Command="{Binding EndorseM3OnNexusCommand}"
                        ToolTip="{DynamicResource string_tooltip_endorseM3OnNexus}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Heart"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_donations}"
                        Click="Donations_Click"
                        ToolTip="{DynamicResource string_tooltip_opensTheME3TweaksDonationsInformationPage}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Regular_Handshake"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_moddescfileformatspecification}"
                        Click="Documentation_Click"
                        ToolTip="{DynamicResource string_ReferenceinformationModdesc}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_Book"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_AboutME3TweaksModManager}"
                        Click="About_Click"
                        ToolTip="{DynamicResource string_Aboutthisprogram}">
                        <MenuItem.Icon>
                            <fa5:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Solid_InfoCircle"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Style="{StaticResource MenuBarButton}"
                    Header="{Binding NexusLoginInfoString}"
                    Command="{Binding LoginToNexusCommand}"
                    HorizontalAlignment="Right"
                    Padding="0"
                    HorizontalContentAlignment="Right"
                    ToolTip="{DynamicResource string_tooltip_manageNexusModsIntegration}">
                    <MenuItem.Icon>
                        <Image
                            Source="/modmanager/nexusmodsintegration/nexusmods_icon.png"
                            Width="16"
                            RenderOptions.BitmapScalingMode="Linear" />
                    </MenuItem.Icon>
                </MenuItem>
            </Menu>
            <StatusBar
                DockPanel.Dock="Bottom"
                Padding="5,0">
                <StatusBarItem
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Name="LoadingSpinnerContainer"
                    Width="Auto"
                    Height="36"
                    Padding="0">
                    <!--<StatusBarItem.Resources>
                        <Storyboard x:Key="imageRotationStoryboard" Storyboard.TargetName="LoadingSpinner_Image" Storyboard.TargetProperty="RenderTransform.(RotateTransform.Angle)">
                            <DoubleAnimation From="0" To="360" BeginTime="0:0:0" Duration="0:0:0.75" RepeatBehavior="Forever" />
                        </Storyboard>
                    </StatusBarItem.Resources>
                    <Image x:Name="LoadingSpinner_Image" Source="/images/loadingspinner.png" Width="0" Height="32" RenderTransformOrigin="0.5, 0.5" >
                        <Image.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <EventTrigger.Actions>
                                    <BeginStoryboard Storyboard="{StaticResource imageRotationStoryboard}" />
                                </EventTrigger.Actions>
                            </EventTrigger>
                        </Image.Triggers>
                        <Image.RenderTransform>
                            <RotateTransform Angle="0" />
                        </Image.RenderTransform>
                    </Image>-->
                    <ContentControl
                        x:Name="LoadingSpinner_Image"
                        Focusable="False"
                        ContentTemplate="{DynamicResource {x:Static adonisUi:Templates.LoadingBars}}"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Width="32"
                        Height="32" />
                </StatusBarItem>
                <StatusBarItem>
                    <TextBlock
                        Text="{Binding CurrentOperationText, Mode=OneWay}" />
                </StatusBarItem>
                <StatusBarItem
                    DockPanel.Dock="Right"
                    HorizontalContentAlignment="Right">
                    <StackPanel
                        Orientation="Horizontal">
                        <Image
                            Name="BottomBarGameID_Image"
                            Source="{Binding SelectedGameTarget.Game, Converter={StaticResource GameToImageIconConverter}, ConverterParameter=24}"
                            Width="24"
                            Height="24"
                            Margin="5,0" />
                        <Button
                            MinWidth="70"
                            Padding="10,7"
                            Content="{DynamicResource string_installHeadmorph}"
                            Command="{Binding ApplyM3HeadmorphCommand}"
                            BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                            ToolTip="{DynamicResource string_tooltip_installHeadmorph}"
                            ui:SharedUIBindings.VisibilityToEnabled="True" />
                        <Button
                            MinWidth="70"
                            Padding="10,7"
                            Margin="5,0,0,0"
                            Content="{Binding ApplyModButtonText}"
                            Command="{Binding ApplyModCommand}"
                            BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                            ToolTip="{DynamicResource string_tooltip_applyThisModToTheGame}" />
                        <controls:SplitButton
                            Content="{Binding SelectedLaunchOption.PackageTitle}"
                            Command="{Binding StartGameCommand}"
                            Margin="5,0,0,0"
                            Style="{DynamicResource {x:Static adonisUi:Styles.AccentSplitButton}}"
                            ToolTip="{DynamicResource string_tooltip_launchCurrentlySelectedTarget}">
                            <controls:SplitButton.SplitMenu>
                                <ContextMenu>
                                    <MenuItem
                                        ToolTip="{DynamicResource string_tooltip_launchConfig}"
                                        Header="{DynamicResource string_changeCurrentLaunchConfiguration}"
                                        Command="{Binding ChangeCurrentLaunchConfigCommand}"
                                        Visibility="{Binding SelectedGameTarget.Game, Converter={StaticResource GameToVisibilityConverter}, ConverterParameter='LEGame'}">
                                        <MenuItem.Icon>
                                            <fa5:ImageAwesome
                                                Style="{StaticResource EnableDisableImageStyle}"
                                                Icon="Solid_Rocket"
                                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                                Height="16"
                                                Width="16" />
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem
                                        ToolTip="{DynamicResource string_tooltip_autobootSave}"
                                        Header="{DynamicResource string_bootIntoSpecificSaveFile}"
                                        Command="{Binding StartGameSpecificSaveCommand}"
                                        Visibility="{Binding SelectedGameTarget.Game, Converter={StaticResource GameToVisibilityConverter}, ConverterParameter='LEGame'}">
                                        <MenuItem.Icon>
                                            <fa5:ImageAwesome
                                                Style="{StaticResource EnableDisableImageStyle}"
                                                Icon="Solid_Save"
                                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                                Height="16"
                                                Width="16" />
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem
                                        Header="{DynamicResource string_launchConfigurationOptionsNotAvailableForThisGame}"
                                        IsEnabled="False"
                                        Visibility="{Binding SelectedGameTarget.Game, Converter={StaticResource GameToVisibilityConverter}, ConverterParameter='Not_LEGame'}">
                                        <MenuItem.Icon>
                                            <fa5:ImageAwesome
                                                Style="{StaticResource EnableDisableImageStyle}"
                                                Icon="Solid_Rocket"
                                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                                Height="16"
                                                Width="16" />
                                        </MenuItem.Icon>
                                    </MenuItem>
                                </ContextMenu>
                            </controls:SplitButton.SplitMenu>
                        </controls:SplitButton>
                    </StackPanel>
                </StatusBarItem>
            </StatusBar>
            <Grid
                Background="{DynamicResource {x:Static adonisUi:Brushes.Layer1BackgroundBrush}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition
                        Width="7" />
                    <ColumnDefinition
                        MinWidth="321"
                        Width="321" />
                    <ColumnDefinition
                        Width="5" />
                    <ColumnDefinition
                        Width="*" />
                    <ColumnDefinition
                        Width="Auto" />
                    <ColumnDefinition
                        Width="Auto" />
                    <ColumnDefinition
                        Width="7" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition
                        Height="3" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="*" />
                    <RowDefinition
                        Height="3" />
                </Grid.RowDefinitions>
                <!-- Header Panel -->
                <DockPanel
                    Grid.Row="1"
                    Grid.Column="1"
                    Grid.ColumnSpan="3">
                    <ToggleButton
                        ToolTip="{DynamicResource string_tooltip_generationOT}"
                        DockPanel.Dock="Right"
                        Content="{DynamicResource string_originalTrilogy}"
                        VerticalAlignment="Center"
                        Style="{DynamicResource {x:Static adonisUi:Styles.DefaultToAccentToggleButton}}"
                        IsChecked="{Binding Path=(modmanager:Settings.GenerationSettingOT)}" />
                    <ToggleButton
                        ToolTip="{DynamicResource string_tooltip_generationLE}"
                        DockPanel.Dock="Right"
                        Content="{DynamicResource string_legendaryEdition}"
                        VerticalAlignment="Center"
                        Style="{DynamicResource {x:Static adonisUi:Styles.DefaultToAccentToggleButton}}"
                        IsChecked="{Binding Path=(modmanager:Settings.GenerationSettingLE)}" />
                    <TextBlock
                        Text="{DynamicResource string_installationTarget}"
                        DockPanel.Dock="Bottom"
                        Margin="10,0" />
                    <TextBlock
                        Text="{Binding Source={x:Static local:App.AppVersionHR}}"
                        FontWeight="Bold" />
                </DockPanel>
                <Grid
                    Grid.Row="3"
                    Grid.Column="1"
                    Grid.ColumnSpan="6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition
                            Width="7" />
                        <ColumnDefinition
                            Width="275" />
                        <ColumnDefinition
                            Width="*" />
                        <ColumnDefinition
                            Width="Auto" />
                        <ColumnDefinition
                            Width="Auto" />
                        <ColumnDefinition
                            Width="7" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="Auto" />
                    </Grid.RowDefinitions>
                    <usercontrols:TargetSelector
                        AvailableTargets="{Binding InstallationTargets}"
                        SelectedGameTarget="{Binding SelectedGameTarget}"
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="3"
                        Margin="10,0,0,0"
                        HorizontalContentAlignment="Stretch"
                        ToolTip="{DynamicResource string_tooltip_currentTarget}" />
                    <Button
                        Content="{DynamicResource string_addTarget}"
                        Command="{Binding AddTargetCommand}"
                        Grid.Row="0"
                        Grid.Column="4"
                        Padding="5,0"
                        BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                        ToolTip="{DynamicResource string_tooltip_addAdditionalTarget}" />
                    <Button
                        Content="{DynamicResource string_targetInfo}"
                        Command="{Binding ShowinstallationInformationCommand}"
                        Grid.Row="0"
                        Grid.Column="3"
                        Padding="5,0"
                        Margin="3,0"
                        FontWeight="Bold"
                        BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                        ToolTip="{DynamicResource string_tooltip_targetInfo}"
                        Style="{DynamicResource {x:Static adonisUi:Styles.AccentButton}}" />
                </Grid>
                <Separator
                    Grid.Row="4"
                    Grid.Column="1"
                    Grid.ColumnSpan="5"
                    Margin="0,5" />
                <DockPanel
                    Grid.Row="5"
                    Grid.Column="1"
                    Background="Transparent">
                    <DockPanel
                        DockPanel.Dock="Top">
                        <DockPanel
                            DockPanel.Dock="Bottom">
                            <ItemsControl
                                IsEnabled="{Binding IsLoadingMods, Source={x:Static loaders:M3LoadedMods.Instance}, Converter={StaticResource BoolEnabledConverter}, ConverterParameter='Not'}"
                                ItemsSource="{Binding GameFilters, Source={x:Static loaders:M3LoadedMods.Instance}}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel
                                            Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate
                                        DataType="objects:GameFilterLoader">
                                        <ToggleButton
                                            Style="{DynamicResource {x:Static adonisUi:Styles.DefaultToAccentToggleButton}}"
                                            IsChecked="{Binding IsEnabled}"
                                            Visibility="{Binding IsVisible, Converter={StaticResource BoolToVisibilityConverter}}"
                                            Click="GameFilter_Click">
                                            <ToggleButton.Content>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition
                                                            Height="Auto" />
                                                    </Grid.RowDefinitions>
                                                    <Border
                                                        Background="{Binding BackgroundColor}"
                                                        Height="2"
                                                        VerticalAlignment="Bottom" />
                                                    <TextBlock
                                                        Text="{Binding Game}" />
                                                </Grid>
                                            </ToggleButton.Content>
                                        </ToggleButton>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <Button
                                HorizontalAlignment="Right"
                                Background="Transparent"
                                BorderThickness="2"
                                Command="{Binding ReloadModsCommand}"
                                ToolTip="{DynamicResource string_Reloadsmodsfromthemodlibrary}">
                                <fa5:ImageAwesome
                                    Icon="Solid_SyncAlt"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center"
                                    Width="10"
                                    Height="10"
                                    Spin="{Binding IsLoadingMods, Source={x:Static loaders:M3LoadedMods.Instance}}"
                                    SpinDuration="1"
                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                            </Button>
                        </DockPanel>
                        <ui:Clipper
                            HorizontalAlignment="Left"
                            Constraint="Width"
                            DockPanel.Dock="Bottom">
                            <DockPanel
                                Margin="0,0,0,2"
                                Name="OneTimeMessagePanel_HowToManageMods"
                                ui:Clipper.HeightFraction="0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top">
                                <Button
                                    DockPanel.Dock="Right"
                                    Width="20"
                                    Name="ModLibraryNotInstalledModsDismissButton"
                                    HorizontalAlignment="Right"
                                    BorderThickness="0"
                                    BorderBrush="Transparent"
                                    Padding="0"
                                    Click="DismissOneTimeMessage">
                                    <fa5:ImageAwesome
                                        Icon="Solid_Times"
                                        Opacity=".5"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center"
                                        Width="10"
                                        Height="10"
                                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                                </Button>
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    TextAlignment="Left"
                                    TextWrapping="Wrap"
                                    Text="{DynamicResource string_tutorialui_listOflibraryMods}"
                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                            </DockPanel>
                        </ui:Clipper>
                        <TextBlock
                            Text="{DynamicResource string_AvailableMods}"
                            ToolTip="{DynamicResource string_tooltip_modLibrary}"
                            FontWeight="Bold"
                            VerticalAlignment="Center" />
                    </DockPanel>
                    <ui:Clipper
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Constraint="Width"
                        DockPanel.Dock="Bottom">
                        <TextBlock
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Center"
                            ui:Clipper.WidthFraction="1"
                            ui:Clipper.HeightFraction="0"
                            Name="FailedModsPopupPanel"
                            ToolTip="{DynamicResource string_tooltip_someModsFailed}">
              <Hyperlink
                                Click="FailedMods_LinkClick"
                                Foreground="Red">
                <TextBlock
                                    Text="{Binding FailedModsString}" />
              </Hyperlink>
            </TextBlock>
                    </ui:Clipper>
                    <ui:Clipper
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Constraint="Width"
                        DockPanel.Dock="Bottom">
                        <DockPanel
                            Name="ModListSearchBoxPanel"
                            ui:Clipper.WidthFraction="1"
                            ui:Clipper.HeightFraction="0"
                            VerticalAlignment="Bottom">
                            <Button
                                DockPanel.Dock="Right"
                                Command="{Binding CloseModSearchBoxCommand}">
                                <Button.Content>
                                    <fa5:ImageAwesome
                                        Icon="Solid_Times"
                                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                        Height="8"
                                        Width="8" />
                                </Button.Content>
                            </Button>
                            <xctk:WatermarkTextBox
                                Watermark="{DynamicResource string_typeToSearch}"
                                Name="ModSearchBox"
                                Text="{Binding ModSearchText, Source={x:Static loaders:M3LoadedMods.Instance}, UpdateSourceTrigger=PropertyChanged}" />
                        </DockPanel>
                    </ui:Clipper>
                    <Grid>
                        <ListBox
                            Name="ModsList_ListBox"
                            ItemsSource="{Binding VisibleFilteredMods, Source={x:Static loaders:M3LoadedMods.Instance}}"
                            Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                            SelectedItem="{Binding SelectedMod}"
                            IsEnabled="{Binding IsLoadingMods, Converter={StaticResource BoolEnabledConverter}, ConverterParameter='Not', Source={x:Static loaders:M3LoadedMods.Instance}}"
                            BorderThickness="1"
                            IsTextSearchEnabled="True"
                            TextSearch.TextPath="ModName"
                            Visibility="{Binding VisibleFilteredMods.Any, Source={x:Static loaders:M3LoadedMods.Instance}, Converter={StaticResource BoolToVisibilityConverter}}"
                            Tag="{Binding DataContext}">
                            <ListBox.ItemTemplate>
                                <DataTemplate
                                    DataType="mod:Mod">
                                    <Border
                                        MouseDown="ModLibraryMod_MouseDown"
                                        Padding="5,4">
                                        <Border.Style>
                                            <Style
                                                TargetType="Border">
                                                <Style.Triggers>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.ME1}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource OTModBrush}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.ME2}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource OTModBrush}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.ME3}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource OTModBrush}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.LELauncher}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource LEModBrush}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.LE1}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource LEModBrush}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.LE2}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource LEModBrush}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding Game}"
                                                        Value="{x:Static packages:MEGame.LE3}">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource LEModBrush}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <DockPanel
                                            Tag="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type ListBox}}}">
                                            <Image
                                                DockPanel.Dock="Left"
                                                Source="{Binding Game, Converter={StaticResource GameToImageIconConverter}, ConverterParameter='16'}"
                                                Width="16"
                                                Height="16"
                                                Margin="0,0,5,0" />
                                            <fa5:ImageAwesome
                                                DockPanel.Dock="Right"
                                                Width="16"
                                                Height="16"
                                                Margin="2,0,0,0"
                                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.AccentInteractionBorderBrush}}"
                                                Icon="Solid_Cloud">
                                                <fa5:ImageAwesome.Visibility>
                                                    <MultiBinding
                                                        Converter="{StaticResource MultiBoolToVisibilityConverter}">
                                                        <Binding
                                                            Path="(modmanager:Settings.SessionOnly_ShowWhichModsCanCheckForUpdates)" />
                                                        <Binding
                                                            Path="IsUpdatable" />
                                                    </MultiBinding>
                                                </fa5:ImageAwesome.Visibility>
                                            </fa5:ImageAwesome>
                                            <fa5:ImageAwesome
                                                Visibility="{Binding IsCheckingForUpdates, Converter={StaticResource BoolToVisibilityConverter}}"
                                                DockPanel.Dock="Right"
                                                Width="16"
                                                Height="16"
                                                Margin="2,0,0,0"
                                                Foreground="Gray"
                                                Icon="Solid_CloudDownloadAlt">
                                                <fa5:ImageAwesome.Triggers>
                                                    <EventTrigger
                                                        RoutedEvent="Loaded">
                                                        <BeginStoryboard
                                                            Storyboard="{StaticResource OpacityPulseElement}" />
                                                    </EventTrigger>
                                                </fa5:ImageAwesome.Triggers>
                                            </fa5:ImageAwesome>
                                            <Grid
                                                DockPanel.Dock="Right">
                                                <fa5:ImageAwesome
                                                    Visibility="{Binding IsInstalledToTarget, Converter={StaticResource BoolToVisibilityConverter}}"
                                                    Width="16"
                                                    Margin="2,0,2,0"
                                                    Foreground="White"
                                                    Icon="Solid_Circle" />
                                                <fa5:ImageAwesome
                                                    Visibility="{Binding IsInstalledToTarget, Converter={StaticResource BoolToVisibilityConverter}}"
                                                    Width="16"
                                                    Margin="2,0,2,0"
                                                    Foreground="{DynamicResource {x:Static adonisUi:Brushes.SuccessBrush}}"
                                                    Icon="Solid_CheckCircle" />
                                            </Grid>
                                            <TextBlock
                                                Text="{Binding ModName}" />
                                        </DockPanel>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.ItemContainerStyle>
                                <Style
                                    TargetType="ListBoxItem"
                                    BasedOn="{StaticResource ListBoxItemStyle}">
                                    <Setter
                                        Property="ContextMenu">
                                        <Setter.Value>
                                            <ContextMenu
                                                StaysOpen="True"
                                                ItemsSource="{StaticResource ModUtilsMenuArray}"
                                                DataContext="{x:Reference MainWindow_Ref}" />
                                        </Setter.Value>
                                    </Setter>
                                    <Setter
                                        Property="HorizontalContentAlignment"
                                        Value="Stretch" />
                                    <Setter
                                        Property="Margin"
                                        Value="1" />
                                    <Setter
                                        Property="Padding"
                                        Value="0" />
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                        <Border
                            BorderThickness="1"
                            BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1HighlightBorderBrush}}">
                            <DockPanel
                                Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                                Visibility="{Binding VisibleFilteredMods.Any, Source={x:Static loaders:M3LoadedMods.Instance}, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter='Not'}">
                                <StackPanel
                                    Margin="2,0">
                                    <TextBlock
                                        TextWrapping="Wrap"
                                        FontWeight="Bold"
                                        DockPanel.Dock="Top">
                                        <TextBlock.Style>
                                            <Style
                                                TargetType="{x:Type TextBlock}">
                                                <Setter
                                                    Property="Text"
                                                    Value="{DynamicResource string_noModsInTheLibraryHeader}" />
                                                <Style.Triggers>
                                                    <DataTrigger
                                                        Binding="{Binding LoadedOnce, Source={x:Static loaders:M3LoadedMods.Instance}}"
                                                        Value="False">
                                                        <Setter
                                                            Property="Text"
                                                            Value="{DynamicResource string_pleaseWait}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding AllGamesHidden, Source={x:Static loaders:M3LoadedMods.Instance}}"
                                                        Value="True">
                                                        <Setter
                                                            Property="Text"
                                                            Value="{DynamicResource string_allGamesHiddenTitle}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock
                                        TextWrapping="Wrap">
                                        <TextBlock.Style>
                                            <Style
                                                TargetType="{x:Type TextBlock}">
                                                <Setter
                                                    Property="Text"
                                                    Value="{DynamicResource string_noModsInLibraryDescription}" />
                                                <Style.Triggers>
                                                    <DataTrigger
                                                        Binding="{Binding LoadedOnce, Source={x:Static loaders:M3LoadedMods.Instance}}"
                                                        Value="False">
                                                        <Setter
                                                            Property="Text"
                                                            Value="{DynamicResource string_pleaseWait_startup}" />
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding AllGamesHidden, Source={x:Static loaders:M3LoadedMods.Instance}}"
                                                        Value="True">
                                                        <Setter
                                                            Property="Text"
                                                            Value="{DynamicResource string_allGamesHiddenDescription}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </StackPanel>
                            </DockPanel>
                        </Border>
                    </Grid>
                </DockPanel>
                <GridSplitter
                    Grid.Row="5"
                    Grid.Column="2"
                    HorizontalAlignment="Stretch" />
                <DockPanel
                    Grid.Row="5"
                    Grid.Column="3"
                    Grid.ColumnSpan="3">
                    <DockPanel
                        DockPanel.Dock="Top">
                        <Button
                            ToolTip="{DynamicResource string_tooltip_endorseThisModOnNexusMods}"
                            Content="{Binding CurrentModEndorsementStatus}"
                            DockPanel.Dock="Right"
                            Visibility="{Binding SelectedMod, Converter={StaticResource NullHiddenConverter}}"
                            Command="{Binding EndorseSelectedModCommand}"
                            Style="{DynamicResource {x:Static adonisUi:Styles.AccentButton}}" />
                        <TextBlock
                            DockPanel.Dock="Top"
                            Text="{DynamicResource string_modDescription}"
                            FontWeight="Bold"
                            Height="18" />
                    </DockPanel>
                    <ui:Clipper
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Constraint="Width"
                        DockPanel.Dock="Bottom">
                        <TextBlock
                            ToolTip="{Binding SelectedMod.ModWebsite}"
                            ui:Clipper.WidthFraction="1"
                            ui:Clipper.HeightFraction="0"
                            Name="VisitWebsitePanel"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Bottom">
              <Hyperlink
                                RequestNavigate="RequestNavigate"
                                NavigateUri="{Binding SelectedMod.ModWebsite}">
                <TextBlock
                                    Text="{Binding VisitWebsiteText}" />
              </Hyperlink>
            </TextBlock>
                    </ui:Clipper>
                    <Image
                        Source="{Binding SelectedMod.BannerBitmap, IsAsync=True}"
                        Visibility="{Binding SelectedMod.BannerBitmap, IsAsync=True, Converter={StaticResource NullVisibilityConverter}}"
                        Margin="0,1"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        DockPanel.Dock="Top" />
                    <TextBox
                        Name="ModDescription_TextBox"
                        IsReadOnly="True"
                        IsReadOnlyCaretVisible="False"
                        HorizontalContentAlignment="Left"
                        HorizontalAlignment="Stretch"
                        Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                        TextWrapping="Wrap"
                        VerticalScrollBarVisibility="Auto"
                        AllowDrop="True"
                        PreviewDragOver="Window_DragOver"
                        VerticalContentAlignment="Top"
                        adonisExtensions:CursorSpotlightExtension.BackgroundBrush="Transparent"
                        adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0"
                        adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="0">
                        <TextBox.Text>
                            <PriorityBinding>
                                <Binding
                                    Path="SelectedMod.DisplayedModDescription"
                                    Mode="OneWay" />
                                <Binding
                                    Path="NoModSelectedText"
                                    Mode="OneWay" />
                            </PriorityBinding>
                        </TextBox.Text>
                    </TextBox>
                </DockPanel>
            </Grid>
        </DockPanel>
        <xctk:BusyIndicator.ProgressBarStyle>
            <Style
                TargetType="ProgressBar">
                <Setter
                    Property="Visibility"
                    Value="Collapsed" />
            </Style>
        </xctk:BusyIndicator.ProgressBarStyle>
        <xctk:BusyIndicator.OverlayStyle>
            <Style
                TargetType="Rectangle">
                <Setter
                    Property="Fill"
                    Value="#88333333" />
            </Style>
        </xctk:BusyIndicator.OverlayStyle>
    </xctk:BusyIndicator>
</Window>